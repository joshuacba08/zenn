---
title: "FlutterでWebアプリを作るのが悪いアイデアである理由"
emoji: "⚠️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["flutter", "web", "frontend", "angular", "react"]
published: false
---

# FlutterでWebアプリを作るのが悪いアイデアである理由

## はじめに

Flutterはクロスプラットフォームのモバイルアプリ開発において優れたツールとして確立されています。しかし、Web開発に関しては話が異なります。本記事では、Flutter Webでの直接的な開発経験と、本番環境のWebプロジェクトには**最適な選択肢ではない**と考える技術的根拠を共有します。

## ケーススタディの背景

以前、Flutterで開発されたWebプロジェクトを引き継ぎました。勤怠管理とプロジェクト管理のための内部管理アプリケーションでした。Flutterでのモバイルプロジェクトを成功裏に完了した直後だったため、期待は高かったのですが、現実は大きく異なりました。

プロジェクトは2週間で完了する予定でしたが、結果的に**3ヶ月以上**の開発期間を要しました。同時並行で、Angular PWAを使用して同様のシステムを開発しましたが、こちらは1ヶ月以内に完了し、2ヶ月以内に優れた結果で本番環境にデプロイできました。

```mermaid
flowchart LR
    subgraph Flutter["Flutter Web"]
        F1["開始"] --> F2["開発"]
        F2 --> F3["パフォーマンス<br/>問題"]
        F3 --> F4["リファクタリング"]
        F4 --> F5["3ヶ月以上"]
        F5 --> F6["次善の<br/>結果"]
    end
    
    subgraph Angular["Angular PWA"]
        A1["開始"] --> A2["開発"]
        A2 --> A3["MVP<br/>1ヶ月"]
        A3 --> A4["本番環境<br/>2ヶ月"]
        A4 --> A5["優れた<br/>UX"]
    end
    
    style F6 fill:#ff6b6b,color:#fff
    style A5 fill:#51cf66,color:#fff
```

## アーキテクチャ：根本的な問題

FlutterがWebに適していない理由を理解するために、レンダリングアーキテクチャを分析する必要があります：

```mermaid
flowchart TB
    subgraph Traditional["従来のWebフレームワーク"]
        HTML["HTML"] --> DOM["ネイティブDOM"]
        CSS["CSS"] --> DOM
        JS["JavaScript"] --> DOM
        DOM --> Browser["ブラウザエンジン"]
        Browser --> Screen1["画面"]
    end
    
    subgraph FlutterWeb["Flutter Web"]
        Dart["Dart"] --> Engine["Flutter Engine"]
        Engine --> Canvas["Canvas/WebGL"]
        Canvas --> Screen2["画面"]
    end
    
    style DOM fill:#51cf66,color:#fff
    style Canvas fill:#ff6b6b,color:#fff
```

Flutterは**すべて**をCanvasに描画し、ブラウザのDOMを完全に無視します。これは以下を意味します：

- 検査できるネイティブHTML要素がない
- ブラウザの開発者ツールが役に立たない
- アクセシビリティを手動で実装する必要がある
- SEOがほぼ存在しない

## 特定された技術的問題

以下、発見した具体的な問題を詳述します：

### 1. 遅いワークフロー（Hot Reloadの欠陥）

モバイルでのFlutterの最大の強みの一つはHot Reloadですが、Webではこの機能は**著しく制限されています**。Fast RefreshのReactやLive ReloadのAngularとは異なり、Flutter Webは数秒かかる頻繁な再コンパイルが必要です。

```mermaid
flowchart LR
    subgraph React["React/Angular"]
        R1["コード変更"] --> R2["Hot Module<br/>Replacement"]
        R2 --> R3["約100-500ms"]
        R3 --> R4["ビュー更新"]
    end
    
    subgraph FlutterW["Flutter Web"]
        F1["コード変更"] --> F2["完全な<br/>再コンパイル"]
        F2 --> F3["約5-15秒"]
        F3 --> F4["ページ<br/>リロード"]
    end
    
    style R3 fill:#51cf66,color:#fff
    style F3 fill:#ff6b6b,color:#fff
```

**実際の影響**：単純な色やテキストの変更でも最大15秒待つ必要があります。何百もの小さな変更がある一日の作業で、これは**何時間もの時間の損失**を意味します。

### 2. ナビゲーションのパフォーマンス低下

Flutter製のWebアプリケーションは、特にビュー間のナビゲーションで重大なパフォーマンス問題を抱えています。

**技術的な理由：**
- FlutterはWeb方式（ルートの置き換え）ではなく、**モバイルナビゲーションモデル**（画面のスタック）を使用
- レンダリングエンジンは各遷移でウィジェットツリー全体を処理する必要がある
- DOM用のブラウザのネイティブ最適化を活用できない

```mermaid
flowchart TB
    subgraph Mobile["モバイルナビゲーション（Flutter）"]
        direction TB
        M1["画面A"] --> M2["画面Bをプッシュ"]
        M2 --> M3["画面Cをプッシュ"]
        M3 --> M4["スタック: A → B → C"]
        M4 --> M5["ポップで戻る"]
    end
    
    subgraph Web["従来のWebナビゲーション"]
        direction TB
        W1["ルート /a"] --> W2["/b へ移動"]
        W2 --> W3["ビューを置換"]
        W3 --> W4["ブラウザ履歴"]
        W4 --> W5["ネイティブの<br/>戻るが機能"]
    end
```

### 3. アクセシビリティの問題

これは倫理的・法的観点から**最も重大な問題**かもしれません。Webアクセシビリティ（a11y）は多くの国や分野で必須です。

**具体的な問題：**
- **スクリーンリーダー**：FlutterのCanvasをセマンティック要素として解釈できない
- **キーボードナビゲーション**：ネイティブサポートなしで手動実装が必要
- **ARIA属性**：適用するHTML要素が存在しない
- **WCAGコンプライアンス**：達成が極めて困難

```mermaid
quadrantChart
    title アクセシビリティ: Flutter Web vs 従来のフレームワーク
    x-axis 低ネイティブサポート --> 高ネイティブサポート
    y-axis 低労力 --> 高労力
    quadrant-1 理想的
    quadrant-2 作業が必要
    quadrant-3 避けるべき
    quadrant-4 実現可能
    Flutter Web: [0.15, 0.85]
    React: [0.75, 0.35]
    Angular: [0.80, 0.30]
    Vue.js: [0.70, 0.40]
```

> ⚠️ **法的警告**：EU（Webアクセシビリティ指令）、米国（ADA）、その他の国々では、アクセシビリティの欠如は訴訟や多額の罰金につながる可能性があります。

### 4. 過大なバンドルサイズ

初期読み込みサイズはユーザー体験とSEOにとって重要な要素です。Flutter Webはこの点で構造的な問題を抱えています。

| フレームワーク | 典型的な初期バンドル | 読み込み時間（3G） |
|-----------|----------------------|---------------------|
| **Flutter Web** | 2-4 MB | 8-15秒 |
| React（最適化済み） | 100-300 KB | 1-3秒 |
| Angular（最適化済み） | 150-400 KB | 1-4秒 |
| Vue.js | 80-200 KB | 0.5-2秒 |

**なぜこうなるのか？**
- FlutterはWebAssemblyにコンパイルされたSkiaレンダリングエンジン全体を含む
- フォントをパッケージ化する必要がある（システムフォントを使用しない）
- フレームワークの効果的なツリーシェイキングがない
- JavaScriptにコンパイルされたDartコードは冗長

```mermaid
flowchart TD
    subgraph FlutterBundle["Flutter Webのバンドル"]
        A["Skiaエンジン<br/>(約1.5 MB)"] 
        B["Flutterフレームワーク<br/>(約500 KB)"]
        C["アプリコード<br/>(可変)"]
        D["フォント<br/>(約200-500 KB)"]
        A --> Total["合計: 2-4+ MB"]
        B --> Total
        C --> Total
        D --> Total
    end
    
    subgraph ReactBundle["Reactアプリのバンドル"]
        E["React + ReactDOM<br/>(約45 KB gzip)"]
        F["依存関係<br/>(可変)"]
        G["アプリコード<br/>(可変)"]
        E --> Total2["合計: 100-300 KB"]
        F --> Total2
        G --> Total2
    end
    
    style Total fill:#ff6b6b,color:#fff
    style Total2 fill:#51cf66,color:#fff
```

### 5. デバッグ：Canvasの地獄

私たちが知り、愛用しているWeb開発ツール（Chrome DevTools、Firefox Developer Tools）は、Flutter Webでは**事実上役に立ちません**。

**失うもの：**
- ❌ DOMの検査
- ❌ リアルタイムでのスタイル変更
- ❌ デバッグ用の効果的なネットワークスロットリング
- ❌ コンポーネントデバッグ用のコンソール
- ❌ ブラウザネイティブのパフォーマンスプロファイリング

```mermaid
flowchart LR
    subgraph DevTools["従来WebでのChrome DevTools"]
        D1["Elements"] --> D2["あらゆる要素を<br/>検査可能"]
        D3["Styles"] --> D4["リアルタイムで<br/>CSS変更"]
        D5["Console"] --> D6["インタラクティブ<br/>デバッグ"]
    end
    
    subgraph FlutterTools["Flutter WebでのDevTools"]
        F1["Elements"] --> F2["見えるのは<br/>canvasのみ"]
        F3["Styles"] --> F4["変更する<br/>CSSがない"]
        F5["Console"] --> F6["限定的な<br/>ログ"]
    end
    
    style D2 fill:#51cf66,color:#fff
    style D4 fill:#51cf66,color:#fff
    style D6 fill:#51cf66,color:#fff
    style F2 fill:#ff6b6b,color:#fff
    style F4 fill:#ff6b6b,color:#fff
    style F6 fill:#ffa94d,color:#fff
```

> 💡 **注意**：Flutter独自のDevToolsがありますが、フロントエンド開発者が知っているネイティブWebデバッグ体験の代わりにはなりません。

### 6. 限定的なコンポーネントエコシステム

従来のWebフレームワークには、本番環境向けの成熟したUIコンポーネントエコシステムがあります：

| フレームワーク | コンポーネントライブラリ |
|-----------|-------------------------|
| **React** | Material UI、Ant Design、Chakra UI、Radix、shadcn/ui |
| **Angular** | Angular Material、PrimeNG、NGX-Bootstrap |
| **Vue.js** | Vuetify、Quasar、Element Plus、PrimeVue |
| **Flutter Web** | Material（モバイルから移植）、限定的なWeb優先オプション |

**問題点**：Flutterのコンポーネントはモバイルを念頭に設計されています。以下のような要素：
- 横スクロールのテーブル（レスポンシブWebテーブルではない）
- ビューポートを尊重しないドロップダウン
- デスクトップでモバイルUXの日付ピッカー
- ブラウザのオートコンプリートなしのフォーム

### 7. レスポンシブ対応：車輪の再発明

従来のWebでは、長年の進化で実証されたツールがあります：

```mermaid
flowchart TD
    subgraph CSS["ネイティブCSS"]
        A["Media Queries"] --> B["自動<br/>ブレークポイント"]
        C["Flexbox"] --> D["柔軟な<br/>レイアウト"]
        E["CSS Grid"] --> F["少ないコードで<br/>複雑なグリッド"]
        G["Container Queries"] --> H["コンポーネント<br/>レベルの対応"]
    end
    
    subgraph Flutter["Flutter Web"]
        I["MediaQuery.of(context)"] --> J["各ブレークポイント<br/>の手動コード"]
        K["Wrap, Row, Column"] --> L["基本レイアウトに<br/>多くのコード"]
        M["LayoutBuilder"] --> N["サイズ変更ごとの<br/>コールバック"]
    end
    
    style B fill:#51cf66,color:#fff
    style D fill:#51cf66,color:#fff
    style F fill:#51cf66,color:#fff
    style J fill:#ff6b6b,color:#fff
    style L fill:#ff6b6b,color:#fff
```

**シンプルなレスポンシブレイアウトのコード比較：**

```css
/* CSS - 3行 */
.container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1rem;
}
```

対してFlutterは、LayoutBuilder、条件分岐、ネストされたウィジェットでかなり多くのコードが必要です。

### 8. 極端なモバイルファーストの哲学

Flutterは**モバイルファースト**の考え方で設計されており、フレームワークのあらゆる側面に反映されています：

```mermaid
flowchart TB
    subgraph Expectations["Webユーザーの期待"]
        E1["右クリック<br/>が機能"]
        E2["ネイティブ<br/>テキスト選択"]
        E3["滑らかな<br/>ホイールスクロール"]
        E4["標準的な<br/>キーボード<br/>ショートカット"]
        E5["共有可能な<br/>URLと<br/>ブックマーク"]
        E6["新しいタブで<br/>開く"]
    end
    
    subgraph Flutter["デフォルトのFlutter Web"]
        F1["右クリック<br/>無効"]
        F2["限定的な<br/>テキスト選択"]
        F3["モバイル<br/>慣性スクロール"]
        F4["標準ショート<br/>カットなし"]
        F5["状態ベースの<br/>ナビゲーション"]
        F6["本当のルートなし<br/>のSPA"]
    end
    
    E1 -.-> F1
    E2 -.-> F2
    E3 -.-> F3
    E4 -.-> F4
    E5 -.-> F5
    E6 -.-> F6
    
    style E1 fill:#51cf66,color:#fff
    style E2 fill:#51cf66,color:#fff
    style E3 fill:#51cf66,color:#fff
    style F1 fill:#ff6b6b,color:#fff
    style F2 fill:#ff6b6b,color:#fff
    style F3 fill:#ffa94d,color:#fff
```

## Flutter Webを検討できるケース

公平を期すため、Flutter Webが意味を持つ非常に特定のシナリオがあります：

1. 既存のモバイルアプリのWebデモ用の**ラピッドプロトタイピング**
2. SEOや厳格なアクセシビリティ要件のない**内部アプリケーション**
3. Canvasが本当に必要な**ゲームや可視化**
4. Web開発の専門知識がない**100% Flutterチーム**

```mermaid
quadrantChart
    title Flutter Webを使うべきか
    x-axis 低いWeb要件 --> 高いWeb要件
    y-axis Web開発者なし --> Web開発者あり
    quadrant-1 Webフレームワークを使う
    quadrant-2 ケースバイケース
    quadrant-3 Flutter Web可能
    quadrant-4 Webフレームワークを使う
    公開SEOアプリ: [0.9, 0.7]
    内部ダッシュボード: [0.3, 0.2]
    Eコマース: [0.95, 0.8]
    モバイルアプリデモ: [0.2, 0.3]
    複雑なPWA: [0.8, 0.6]
```

## 結論と推奨事項

直接的な経験と提示した技術的議論に基づき、ほとんどの場合、**本番環境のWeb開発にFlutterはお勧めしません**。

### 重大な問題の要約：

| 側面 | 影響 | 深刻度 |
|---------|---------|-----------|
| パフォーマンス | UX低下、ユーザーの不満 | 🔴 高 |
| アクセシビリティ | 法的リスク、ユーザー排除 | 🔴 重大 |
| バンドルサイズ | SEO影響、遅い読み込み | 🔴 高 |
| デバッグ | 生産性低下 | 🟠 中 |
| エコシステム | より多くのコード、より多くの時間 | 🟠 中 |
| レスポンシブ対応 | より複雑 | 🟠 中 |

### 私の推奨：

```mermaid
flowchart TD
    A{"Webアプリが<br/>必要？"} -->|はい| B{"SEO要件は<br/>ある？"}
    B -->|はい| C["Next.js、Nuxt、<br/>またはAngularを使う"]
    B -->|いいえ| D{"アクセシビリティ<br/>要件は？"}
    D -->|はい| C
    D -->|いいえ| E{"内部使用<br/>のみ？"}
    E -->|はい| F{"チームはFlutter<br/>しか知らない？"}
    F -->|はい| G["Flutter Web<br/>（注意付き）"]
    F -->|いいえ| C
    E -->|いいえ| C
    
    style C fill:#51cf66,color:#fff
    style G fill:#ffa94d,color:#fff
```

**推奨される代替案：**
- **React/Next.js**：成熟したエコシステム、優れたDX、SSR/SSG
- **Angular**：エンタープライズ対応、ネイティブTypeScript、堅牢なアーキテクチャ
- **Vue.js/Nuxt**：緩やかな学習曲線、高い生産性
- **Svelte/SvelteKit**：卓越したパフォーマンス、クリーンな構文

> 📌 **最後のメッセージ**：Flutterはモバイル開発において**卓越した**ツールです。しかし、Webに使おうとするのは、ドライバーで釘を打つようなものです：技術的には可能ですが、その作業のために特別に設計されたツールがあります。

---

*Flutter Webで同様の経験はありますか？それとも良い経験でしたか？コメントであなたの視点を聞かせてください。*
