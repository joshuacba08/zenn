---
title: "Data Management and State Flow"
emoji: "üìö"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: []
published: false
---
# Simplicidad: la fortaleza y debilidad de Zustand

Est√°s usando Zustand como tu gestor de estado y sientes que cada vez se vuelve m√°s complicado de mantener. ¬øPor qu√©? Porque est√°s mezclando la gesti√≥n de datos con el flujo de estado. En este art√≠culo, te mostrar√© c√≥mo separar ambos conceptos para que tu c√≥digo sea m√°s f√°cil de mantener y puedas crear interfaces de usuario m√°s complejas sin volverte loco.

Durante los √∫ltimos a√±os, he estado trabajando con interfaces de usuario complejas que requieren la aplicaci√≥n de patrones de dise√±o avanzados. He probado muchas bibliotecas de gesti√≥n de estado en React, como por ejemplo Redux o Context API entre otras. Sin embargo, desde hace poco Zustand se ha convertido en el engre√≠do de la comunidad de React. Esto se debe a que es muy f√°cil de usar y tiene un rendimiento excelente. Obviamente, no es perfecto, pero es una excelente opci√≥n para la mayor√≠a de los casos.

Vamos a introducirnos un poco en el concepto de "State Management" y c√≥mo a partir de √©l podemos separar la **gesti√≥n de datos** del **flujo de estado**.

## ¬øQu√© es la gesti√≥n de estado?

Como desarrolladores de interfaces de usuario, estamos acostumbrados a trabajar con el concepto de estado. En React, el estado es una variable que se utiliza para almacenar datos que pueden cambiar a lo largo del tiempo. Por ejemplo, si tienes un contador, el estado ser√≠a el n√∫mero actual que se muestra en la pantalla. Cuando el usuario hace clic en el bot√≥n de incremento, el estado cambia y el n√∫mero se actualiza (un ejemplo muy clich√©, lo s√©). Los estados son fundamentales en React porque permiten que los componentes sean reactivos, es decir, que se actualicen autom√°ticamente cuando cambian los datos.

Los estados, como cualquier otro dato declarado dentro de un componente, se pierden cuando el componente se desmonta o son inaccesibles desde otros componentes de m√°s alto nivel. Adem√°s, los estados pueden cambiar de forma asincr√≥nica, lo que puede llevar a errores dif√≠ciles de depurar. Por estas razones y por muchas otras m√°s, es necesario utilizar una biblioteca de gesti√≥n de estado para manejar los datos de forma global y centralizada.

Pongamos un ejemplo con Context API:

![1737385741317](image/4b37391862cf81/1737385741317.png)

Como podemos apreciar en la imagen, las flechas de color moradas representan la propagaci√≥n de datos a trav√©s de los componentes. Aquellos componentes que se encuentran en un nivel o una capa superios pueden pasar datos a los componentes de niveles inferiores. Sin embargo, esta propagaci√≥n de datos puede volverse un dolor de cabeza cuando la aplicaci√≥n crece y se vuelve m√°s compleja, ya que cualquier modificaci√≥n en la composici√≥n de los componentes puede afectar la propagaci√≥n de datos y, por ende, la l√≥gica de la aplicaci√≥n.

Es por eso que aplicar t√©cnicas de gesti√≥n de estado es fundamental para mantener la coherencia. En este caso, Context API nos permite crear un contexto global que puede ser consumido por cualquier componente de la aplicaci√≥n. De esta forma, podemos centralizar la l√≥gica de la aplicaci√≥n y evitar la propagaci√≥n de datos a trav√©s de los componentes.

En el caso de Zustand, la gesti√≥n de estado se realiza a trav√©s de **stores**. Un store es un objeto que contiene los datos de la aplicaci√≥n y los m√©todos para modificarlos. Por ejemplo, si tenemos un contador, el store ser√≠a un objeto con una propiedad `count` y un m√©todo `increment` que incrementa el contador. Los stores se pueden compartir entre componentes y se actualizan autom√°ticamente cuando cambian los datos.

## Zustand como gestor de estado

Como mencion√© anteriormente, Zustand se ha vuelto mi biblioteca favorita para la gesti√≥n de estado en React. Su sintaxis es muy sencilla y su rendimiento es excelente. Adem√°s, es muy f√°cil de integrar con otras bibliotecas como React Query o React Router. 

¬øCu√°l es el secreto de Zustand? La verdad es que una store de Zustand no es m√°s ni menos que un simple objeto de JavaScript. No hay magia detr√°s de las stores de Zustand, simplemente son objetos que contienen datos y m√©todos para modificarlos. Sin embargo, la simplicidad de Zustand es su mayor fortaleza y debilidad al mismo tiempo. Vamos a ver por qu√©.

